// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package pages

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"detailingpass/web/templates"
	"fmt"
	"strconv"
)

// GalleryItem represents a gallery group with its images
type GalleryItem struct {
	ID           int64
	Slug         string
	Title        string
	VehicleMake  string
	VehicleModel string
	VehicleYear  int64
	Description  string
	IsFeatured   bool
	HeroImage    string
	Images       []GalleryImage
}

type GalleryImage struct {
	ID      int64
	URL     string
	Kind    string
	AltText string
}

func Gallery(items []GalleryItem) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templates.Hero(
				"Our Work",
				"See the transformation we deliver on every vehicle",
				"",
				"",
			).Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, " <section class=\"container mx-auto px-4 py-16\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if len(items) == 0 {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "<!-- Empty State --> <div class=\"text-center py-20\"><div class=\"w-24 h-24 bg-brand-accent/20 rounded-full flex items-center justify-center mx-auto mb-6\"><svg class=\"w-12 h-12 text-brand-accent\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"></path></svg></div><h2 class=\"text-2xl font-heading font-bold mb-4\">Gallery Coming Soon</h2><p class=\"text-muted max-w-md mx-auto mb-8\">We're preparing our gallery of detailing work. Check back soon to see the amazing transformations!</p><a href=\"/booking\" class=\"btn-primary\">Book Your Detail</a></div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			} else {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<!-- Gallery Grid --> <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				for _, item := range items {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "<div class=\"card group cursor-pointer gallery-item\" data-gallery-id=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var3 string
					templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(strconv.FormatInt(item.ID, 10))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/pages/gallery.templ`, Line: 56, Col: 106}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "\"><div class=\"aspect-video bg-border rounded-lg mb-4 overflow-hidden relative\"><img src=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var4 string
					templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(item.HeroImage)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/pages/gallery.templ`, Line: 59, Col: 29}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "\" alt=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var5 string
					templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(item.Title)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/pages/gallery.templ`, Line: 60, Col: 25}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "\" class=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\" onerror=\"this.src='/static/images/placeholder.jpg'\"> ")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					if len(item.Images) > 1 {
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "<div class=\"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded\">")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						var templ_7745c5c3_Var6 string
						templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d photos", len(item.Images)))
						if templ_7745c5c3_Err != nil {
							return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/pages/gallery.templ`, Line: 66, Col: 54}
						}
						_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "</div>")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
					}
					if item.IsFeatured {
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "<div class=\"absolute top-2 left-2 bg-brand-accent text-white text-xs px-2 py-1 rounded font-semibold\">Featured</div>")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "</div><h3 class=\"text-xl font-heading font-semibold mb-2 group-hover:text-brand-accent transition\">")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var7 string
					templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(item.Title)
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/pages/gallery.templ`, Line: 76, Col: 20}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "</h3>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					if item.VehicleYear > 0 || item.VehicleMake != "" || item.VehicleModel != "" {
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "<p class=\"text-muted text-sm mb-2\">")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						if item.VehicleYear > 0 {
							var templ_7745c5c3_Var8 string
							templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(strconv.FormatInt(item.VehicleYear, 10))
							if templ_7745c5c3_Err != nil {
								return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/pages/gallery.templ`, Line: 81, Col: 51}
							}
							_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
							if templ_7745c5c3_Err != nil {
								return templ_7745c5c3_Err
							}
							templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, " ")
							if templ_7745c5c3_Err != nil {
								return templ_7745c5c3_Err
							}
						}
						var templ_7745c5c3_Var9 string
						templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(item.VehicleMake)
						if templ_7745c5c3_Err != nil {
							return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/pages/gallery.templ`, Line: 83, Col: 27}
						}
						_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, " ")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						var templ_7745c5c3_Var10 string
						templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinStringErrs(item.VehicleModel)
						if templ_7745c5c3_Err != nil {
							return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/pages/gallery.templ`, Line: 83, Col: 49}
						}
						_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, "</p>")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
					}
					if item.Description != "" {
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "<p class=\"text-muted text-sm line-clamp-2\">")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						var templ_7745c5c3_Var11 string
						templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinStringErrs(item.Description)
						if templ_7745c5c3_Err != nil {
							return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/pages/gallery.templ`, Line: 87, Col: 69}
						}
						_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
						templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, "</p>")
						if templ_7745c5c3_Err != nil {
							return templ_7745c5c3_Err
						}
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "<!-- Hidden images data for lightbox --><div class=\"hidden gallery-images\" data-images=\"")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					var templ_7745c5c3_Var12 string
					templ_7745c5c3_Var12, templ_7745c5c3_Err = templ.JoinStringErrs(formatImagesJSON(item.Images))
					if templ_7745c5c3_Err != nil {
						return templ.Error{Err: templ_7745c5c3_Err, FileName: `web/templates/pages/gallery.templ`, Line: 91, Col: 85}
					}
					_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var12))
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, "\"></div></div>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 21, "</div>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 22, "</section><!-- CTA Section --> <section class=\"bg-brand-secondary py-16\"><div class=\"container mx-auto px-4 text-center\"><h2 class=\"text-3xl md:text-4xl font-heading font-bold mb-4\">Want Results Like These?</h2><p class=\"text-muted text-lg mb-8 max-w-2xl mx-auto\">Book your appointment today and let us transform your vehicle.</p><a href=\"/booking\" class=\"btn-primary text-lg px-10 py-4\">Book Your Detail</a></div></section><!-- Lightbox Modal --> <div id=\"lightbox\" class=\"fixed inset-0 bg-black/95 z-50 hidden flex items-center justify-center\"><button id=\"lightbox-close\" class=\"absolute top-4 right-4 text-white hover:text-brand-accent transition z-10\"><svg class=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path></svg></button> <button id=\"lightbox-prev\" class=\"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:text-brand-accent transition z-10\"><svg class=\"w-10 h-10\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\"></path></svg></button> <button id=\"lightbox-next\" class=\"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:text-brand-accent transition z-10\"><svg class=\"w-10 h-10\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\"></path></svg></button><div class=\"max-w-5xl max-h-[90vh] px-4\"><img id=\"lightbox-image\" src=\"\" alt=\"\" class=\"max-w-full max-h-[85vh] object-contain mx-auto\"><div id=\"lightbox-caption\" class=\"text-center text-white mt-4\"></div><div id=\"lightbox-counter\" class=\"text-center text-muted text-sm mt-2\"></div></div></div><script>\n\t\t\t(function() {\n\t\t\t\tconst lightbox = document.getElementById('lightbox');\n\t\t\t\tconst lightboxImage = document.getElementById('lightbox-image');\n\t\t\t\tconst lightboxCaption = document.getElementById('lightbox-caption');\n\t\t\t\tconst lightboxCounter = document.getElementById('lightbox-counter');\n\t\t\t\tconst closeBtn = document.getElementById('lightbox-close');\n\t\t\t\tconst prevBtn = document.getElementById('lightbox-prev');\n\t\t\t\tconst nextBtn = document.getElementById('lightbox-next');\n\n\t\t\t\tlet currentImages = [];\n\t\t\t\tlet currentIndex = 0;\n\n\t\t\t\t// Open lightbox when clicking gallery item\n\t\t\t\tdocument.querySelectorAll('.gallery-item').forEach(item => {\n\t\t\t\t\titem.addEventListener('click', function() {\n\t\t\t\t\t\tconst imagesData = this.querySelector('.gallery-images');\n\t\t\t\t\t\tif (imagesData) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tcurrentImages = JSON.parse(imagesData.dataset.images || '[]');\n\t\t\t\t\t\t\t\tif (currentImages.length > 0) {\n\t\t\t\t\t\t\t\t\tcurrentIndex = 0;\n\t\t\t\t\t\t\t\t\tshowImage();\n\t\t\t\t\t\t\t\t\tlightbox.classList.remove('hidden');\n\t\t\t\t\t\t\t\t\tdocument.body.style.overflow = 'hidden';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tconsole.error('Error parsing gallery images:', e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tfunction showImage() {\n\t\t\t\t\tif (currentImages.length === 0) return;\n\t\t\t\t\tconst img = currentImages[currentIndex];\n\t\t\t\t\tlightboxImage.src = img.url;\n\t\t\t\t\tlightboxImage.alt = img.alt || '';\n\t\t\t\t\tlightboxCaption.textContent = img.alt || '';\n\t\t\t\t\tlightboxCounter.textContent = `${currentIndex + 1} / ${currentImages.length}`;\n\n\t\t\t\t\t// Show/hide nav buttons\n\t\t\t\t\tprevBtn.style.display = currentImages.length > 1 ? 'block' : 'none';\n\t\t\t\t\tnextBtn.style.display = currentImages.length > 1 ? 'block' : 'none';\n\t\t\t\t}\n\n\t\t\t\tfunction closeLightbox() {\n\t\t\t\t\tlightbox.classList.add('hidden');\n\t\t\t\t\tdocument.body.style.overflow = '';\n\t\t\t\t}\n\n\t\t\t\tfunction nextImage() {\n\t\t\t\t\tcurrentIndex = (currentIndex + 1) % currentImages.length;\n\t\t\t\t\tshowImage();\n\t\t\t\t}\n\n\t\t\t\tfunction prevImage() {\n\t\t\t\t\tcurrentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;\n\t\t\t\t\tshowImage();\n\t\t\t\t}\n\n\t\t\t\tcloseBtn.addEventListener('click', closeLightbox);\n\t\t\t\tnextBtn.addEventListener('click', nextImage);\n\t\t\t\tprevBtn.addEventListener('click', prevImage);\n\n\t\t\t\t// Close on background click\n\t\t\t\tlightbox.addEventListener('click', function(e) {\n\t\t\t\t\tif (e.target === lightbox) {\n\t\t\t\t\t\tcloseLightbox();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Keyboard navigation\n\t\t\t\tdocument.addEventListener('keydown', function(e) {\n\t\t\t\t\tif (lightbox.classList.contains('hidden')) return;\n\n\t\t\t\t\tif (e.key === 'Escape') closeLightbox();\n\t\t\t\t\tif (e.key === 'ArrowRight') nextImage();\n\t\t\t\t\tif (e.key === 'ArrowLeft') prevImage();\n\t\t\t\t});\n\t\t\t})();\n\t\t</script>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = templates.Layout("Gallery").Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

// Helper function to format images as JSON for the lightbox
func formatImagesJSON(images []GalleryImage) string {
	if len(images) == 0 {
		return "[]"
	}
	result := "["
	for i, img := range images {
		if i > 0 {
			result += ","
		}
		// Escape quotes in alt text
		alt := img.AltText
		result += fmt.Sprintf(`{"url":"%s","alt":"%s","kind":"%s"}`, img.URL, alt, img.Kind)
	}
	result += "]"
	return result
}

var _ = templruntime.GeneratedTemplate
